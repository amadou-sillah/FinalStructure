<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | FoodOrder</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!--NAVBAR-->
    <header class="navbar">
        <div class="logo">
            <a href="index.html"><i class="fas fa-utensils"></i> FoodOrder Admin</a>
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="profile.html"><i class="fas fa-user"></i> Profile</a></li>
                <li><a href="admin.html" class="active"><i class="fas fa-shield-alt"></i> Admin</a></li>
                <li><a href="#" id="adminLogoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </nav>
    </header>
    
    <!--MAIN-->
    <main class="container">
        <div class="admin-header">
            <h2><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h2>
            <p>Manage restaurants, menus, and orders</p>
        </div>

        <!--DASHBOARD STATS (GRID)-->
        <section class="admin-stats">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-utensils"></i>
                </div>
                <div class="stat-content">
                    <h3>Restaurants</h3>
                    <p id="restaurantCount">0</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-list-alt"></i>
                </div>
                <div class="stat-content">
                    <h3>Menu Items</h3>
                    <p id="menuItemCount">0</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <div class="stat-content">
                    <h3>Total Orders</h3>
                    <p id="orderCount">0</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                    <h3>Total Users</h3>
                    <p id="userCount">0</p>
                </div>
            </div>
        </section>
        
        <!--RESTAURANT MANAGEMENT-->
        <section class="admin-section">
            <div class="section-header">
                <h3><i class="fas fa-store"></i> Restaurant Management</h3>
                <button id="addRestaurantBtn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Add Restaurant
                </button>
            </div>
            
            <!-- Add Restaurant Form -->
            <form id="restaurant-form" class="admin-form card" style="display:none;">
                <h4><i class="fas fa-plus-circle"></i> Add New Restaurant</h4>
                <div class="form-row">
                    <div class="form-group">
                        <label for="rest-name"><i class="fas fa-store"></i> Name</label>
                        <input id="rest-name" name="name" type="text" required />
                    </div>
                    <div class="form-group">
                        <label for="rest-location"><i class="fas fa-map-marker-alt"></i> Location</label>
                        <input id="rest-location" name="location" type="text" required />
                    </div>
                </div>
                <div class="form-group">
                    <label for="rest-desc"><i class="fas fa-align-left"></i> Description</label>
                    <textarea id="rest-desc" name="description" rows="3"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="rest-image"><i class="fas fa-image"></i> Image URL</label>
                        <input id="rest-image" name="image" type="text" placeholder="images/restaurant.jpg" />
                    </div>
                    <div class="form-group">
                        <label for="rest-delivery"><i class="fas fa-clock"></i> Delivery Time (min)</label>
                        <input id="rest-delivery" name="deliveryTime" type="number" value="30" />
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-check"></i> Create Restaurant
                    </button>
                    <button type="button" id="cancel-restaurant" class="btn btn-secondary">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </form>
            
            <!-- Restaurant List -->
            <div class="admin-restaurants admin-list">
                <!-- Restaurant cards will be injected here by js/admin.js -->
                <div class="loading-admin">
                    <div class="spinner"></div>
                    <p>Loading restaurants...</p>
                </div>
            </div>
        </section>
        
        <!-- Menu Management -->
        <section class="admin-section" id="menuManagement" style="display: none;">
            <div class="section-header">
                <h3><i class="fas fa-utensils"></i> Menu Management</h3>
                <button id="addMenuItemBtn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Add Menu Item
                </button>
            </div>
            
            <!-- Selected Restaurant Info -->
            <div class="selected-restaurant-info card" id="selectedRestaurantInfo" style="display: none;">
                <h4 id="selectedRestaurantName"></h4>
                <p id="selectedRestaurantDesc"></p>
            </div>
            
            <!-- Add Menu Item Form -->
            <form id="menu-item-form" class="admin-form card" style="display:none;">
                <h4><i class="fas fa-plus-circle"></i> Add Menu Item</h4>
                <div class="form-row">
                    <div class="form-group">
                        <label for="menu-name"><i class="fas fa-utensil-spoon"></i> Name</label>
                        <input id="menu-name" name="name" type="text" required />
                    </div>
                    <div class="form-group">
                        <label for="menu-price"><i class="fas fa-tag"></i> Price ($)</label>
                        <input id="menu-price" name="price" type="number" step="0.01" required />
                    </div>
                </div>
                <div class="form-group">
                    <label for="menu-desc"><i class="fas fa-align-left"></i> Description</label>
                    <textarea id="menu-desc" name="description" rows="2"></textarea>
                </div>
                <div class="form-group">
                    <label for="menu-image"><i class="fas fa-image"></i> Image URL</label>
                    <input id="menu-image" name="image" type="text" placeholder="images/food.jpg" />
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-check"></i> Add Item
                    </button>
                    <button type="button" id="cancel-menu-item" class="btn btn-secondary">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </form>
            
            <!-- Menu Items List -->
            <div class="admin-menu admin-list">
                <!-- Menu items will be injected here -->
            </div>
        </section>
    </main>

    <!--FOOTER-->
    <footer class="footer">
        <p>&copy; 2026 FoodOrder System | Admin Panel</p>
    </footer>
    
    <!--JS-->
    <script type="module" src="js/admin.js"></script>
    <script>
        // Admin logout
        document.getElementById('adminLogoutBtn')?.addEventListener('click', function(e) {
            e.preventDefault();
            if (confirm('Are you sure you want to logout?')) {
                localStorage.clear();
                window.location.href = 'login.html';
            }
        });
        
        // Toggle menu management section
        document.getElementById('addMenuItemBtn')?.addEventListener('click', function() {
            const menuForm = document.getElementById('menu-item-form');
            menuForm.style.display = menuForm.style.display === 'none' ? 'block' : 'none';
        });
    </script>
</body>
</html>